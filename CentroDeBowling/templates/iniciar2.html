<!-- formulario_jugadores.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Jugadores</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

    <h2>Partida de Jugadores ({{ reserva.cant_personas }} jugadores)</h2>
    
    <form id="formularioJugadoresForm" method="post">
        {% csrf_token %}

        <table id="formularioJugadores">
            <!-- Encabezado de la tabla -->
            <thead>
                <tr>
                    <th>Jugador</th>
                </tr>
            </thead>
            <!-- Cuerpo de la tabla generado dinÃ¡micamente -->
            <tbody></tbody>
        </table>
        <p>

            {% for puntaje in puntajes %}

            Total Jugador {{forloop.counter}} - {{puntaje}} <br>

            {% endfor %}
        </p>
        <button type="submit">Guardar Datos</button>
    </form>

    <script>
        function generarFormulario() {
            var cantidadJugadores = {{ reserva.cant_personas }};
            var formularioHTML = '';

            for (var i = 1; i <= cantidadJugadores; i++) {
                formularioHTML += '<tr>';
                formularioHTML += '<td>Jugador ' + i + ' - </td>';
                for (var j = 1; j <= 5; j++) {
                    formularioHTML += '<td>';
                    formularioHTML += '<label for="jugador_' + i + '_campo_' + j + '">Turno ' + j + ':</label>';
                    formularioHTML += '<input type="text" id="jugador_' + i + '_campo_' + j + '" name="jugador_' + i + '_campo_' + j + '" required>';
                    formularioHTML += '</td>';
                }
                formularioHTML += '</tr>';
            }

            $('#formularioJugadores tbody').html(formularioHTML);
        }

        $(document).ready(function() {
            generarFormulario();
        });
    </script>

</body>
</html>
